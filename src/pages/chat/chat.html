
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{(currentFriend | async)?.firstName +  " " + (currentFriend | async)?.lastName }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-fab top right edge>
        <button ion-fab color='danger' ><ion-icon name="microphone"></ion-icon></button>
        <ion-fab-list>
          <button ion-fab><ion-icon name="mic" (click)="startRecording()"></ion-icon></button>
          <button ion-fab><ion-icon name="mic" (click)="stopRecording()"></ion-icon></button>
          <button ion-fab><ion-icon name="play" (click)="startPlayback()" ></ion-icon></button>
          <button ion-fab><ion-icon name="square" (click)="stopPlayback()"></ion-icon></button>
          <button ion-fab><ion-icon name="send" (click)="uploadToFirebase()"></ion-icon></button>
        </ion-fab-list>
      </ion-fab>

<!-- User chat box -->
  <ion-card color="light" align="left" *ngFor="let message of messageList | async" >
    <ion-card-header class='name'>{{(message.data | async)?.owner}}</ion-card-header>
    <ion-card-content>
      {{(message.data | async)?.text}}
      <!-- <button><ion-icon name="play" (click)="retrieveVoiceMessage((message))"></ion-icon></button> -->
    </ion-card-content>
  </ion-card>

</ion-content>

<ion-footer>

  <p>{{testDir}}</p>

  <ion-item padding>
    <ion-textarea class="textfield" placeholder="Text Input" [(ngModel)]="message.text"></ion-textarea>
    <button ion-button clear item-right (click)="send()">Send</button>
  </ion-item>

</ion-footer>
